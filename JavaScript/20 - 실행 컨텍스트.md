# 20. 실행 컨텍스트

> References <br> <a href="http://www.yes24.com/Product/Goods/92742567?OzSrank=1">모던 자바스크립트 Deep Dive</a> _.이웅모_

## 1. 실행 컨텍스트의 기본 정의

- **실행 컨텍스트**는 **코드가 실행되는 환경 정보를 모아놓은 객체**이다.
- 동일한 스코프의 코드를 실행할 시, **필요한 환경 정보**를 모아 컨텍스트를 구성하여 **콜스택에 쌓는다.** <br>
  👉 실행 순서가 보장된다.

- 필요한 환경 정보

  - **변수** : 전역변수, 지역변수, 매개변수, 객체의 프로퍼티
  - **함수 선언**
  - 변수의 **스코프**
  - **this**

- 실행 컨텍스트는 **변수 객체**, **스코프 체인**, **this** 프로퍼티를 갖는다.

- 변수 객체

  - **코드 실행에 필요한 정보**들을 담는 객체이다.
  - **전달 인자**와 **변수** 및 **함수 선언**을 갖는다.

- 스코프 체인

  - **전역 객체 및 함수 스코프의 참조값**을 저장하고 있는 리스트이다.
  - 이를 통해 **상위 스코프의 함수 및 변수**를 참조할 수 있다.
  - 특정 식별자를 참조할 시, 함수 스코프에 없을 경우 **상위 스코프들을 탐색**한다.

- this
  - 자신이 속한 객체를 가리키는 자기 참조 변수

## 2. 전역/함수 컨텍스트의 특징

```javascript
function outer() {
  function inner() {
    return;
  }
  inner();
}
outer();

// [전역컨텍스트] ➡ [전역컨텍스트, outer] ➡ [전역컨텍스트, outer, inner]
// ➡ [전역컨텍스트, outer] ➡ [전역컨텍스트]
```

- **전역 컨텍스트**

  - 애플리케이션이 **실행되면 콜스택에 푸시**되며, **종료 시 콜스택에서 소멸**된다.
  - 특정 함수 내부에서 돌아가는 코드를 제외하면 **모든 코드가 여기에서 실행**된다.
  - **this**를 **전역 객체**로 설정한다.

- **함수 컨텍스트**
  - **함수 호출 시 콜스택에 푸시**되며, **종료 시 콜스택에서 소멸**한다.
  - 함수가 종료 될 경우 콜스택에서 삭제된다. <br>
    (**클로저** 사용 시 스코프가 소멸하지 않고 이용이 가능하다.)
  - **this**는 함수의 형태 혹은 바인딩 된 객체에 따라 다르다.
