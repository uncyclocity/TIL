# 11. 소스코드의 실행 과정과 호이스팅

> References <br> <a href="http://www.yes24.com/Product/Goods/92742567?OzSrank=1">모던 자바스크립트 Deep Dive</a> _.이웅모_

## 1. 소스코드 평가 과정과 런타임

- JS 엔진은 코드를 실행할 때, **소스코드 평가 과정**과 **런타임**을 거친다.
- **소스코드 평가 과정** : **실행 컨텍스트** 생성 ➡ 변수 및 함수 선언문 먼저 실행(**호이스팅**) ➡ 각 **식별자**를 실행 컨텍스트 스코프에 저장
- **런타임** : 선언문을 제외한 나머지 소스코드가 순차적으로 실행

## 2. 호이스팅

- **호이스팅**이란? 선언문이 코드의 맨 위로 올려진 것처럼 동작하는 JS의 고유 특징이다.
- 변수의 호출이 선언문보다 위에 있을 때에도 작동하는것은 이것 때문이다. (물론 undefined가 할당되어 있다.)
- **변수를 선언하는 방법**에 따라 호이스팅의 방식도 약간 달라진다.
  - **var** : 소스코드 평가 과정에서 **선언과 동시에 undefined 초기화가 발생**한다.
  - **const, let** : 소스코드 평가 과정에서 초기화 없이 **선언만 이루어진다.** <br>
    👉 런타임 시점에서 선언문 이전에 호출하게 되면 **참조 오류**가 발생한다.
- const, let 같은 경우에는 호이스팅이 작동하지 않는 것처럼 보일 수 있으나, 소스코드 평가과정에서 초기화가 되지 않을 뿐이다.

  ```javascript
  let a = 1;

  if (true) {
    console.log(foo); // 참조 오류, 호이스팅이 발생하여 아래 줄의 선언문이 실행되었기 때문이다.
    let a = 2;
  }
  ```
