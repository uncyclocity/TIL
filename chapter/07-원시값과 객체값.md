# 07. 원시값과 객체값 비교

> References <br> <a href="http://www.yes24.com/Product/Goods/92742567?OzSrank=1">모던 자바스크립트 Deep Dive</a> _.이웅모_

## 1. 원시값과 객체값

- **원시값**은 변경이 불가능한 값이고, **객체값**은 변경이 가능한 값이다.
- 값이 변수에 할당되면, 변수는 **메모리에 저장 된 해당 값**를 가리키게 된다. <br>
  👉 이때, 원시값을 할당할 경우 **원사값 그 자체**가 저장되고, 객체값을 할당할 경우 **객체의 참조값**이 저장이 된다. <br>
  (객체의 참조값 자체는 원시값이다.)

## 2. 원시값

- **원시값**은 **변경이 불가능한 값**이다.
- 원시값이 저장 된 변수에 다른 값을 할당 시, 해당 원시값이 변경되는게 아니라 **새로운 메모리 주소**를 파서 그곳을 가리킨다. <br>
  👉 이러한 특성을 **불변성**이라고 한다.
- **읽기 전용 값**이므로 **데이터 신뢰성**을 보장한다.
- 문자열과 불변성

  - C나 Java같은 다른 언어와 달리, JS에서 문자열은 **원시값**이기에 수정이 불가능하다.
  - **유사 배열 객체**이기에, 배열과 유사하게 각 문자에 접근할 수 있다.

    ```javascript
    const a = "hello";
    console.log(a[0]); // "h"
    ```

  - 배열과 비슷하게 `length` 프로퍼티 또한 사용가능하다.

    ```javascript
    const a = "hello";
    console.log(a.length); // 5
    ```

  - **값에 의한 전달(pass by value)** : 원시값을 갖는 변수를 다른 변수에 할당 시, 원본의 원시값이 그대로 복사되어 전달된다.

  ```javascript
  const a = 1;
  const b = a; // 원시값 1이 복사되어 b에 할당되었다.

  a = 2;
  // a와 b는 메모리 주소가 다르기 때문에, 서로 값이 바뀌어도 영향을 끼치지 않는다.
  console.log(b); // 1
  ```

## 3. 객체값

- **객체값**은 **변경이 가능한 값**이다.
- **참조에 의한 전달(pass by reference)** : 객체값을 갖는 변수를 다른 변수에 할당 시, 객체의 참조값이 복사되어 전달된다. <br>
  👉 해당 참조값은 **각각 다른 메모리 주소**에 저장되어 있으나, **각각이 가리키는 객체**는 동일하다. 여기서 참조값 자체는 **원시값**임을 알 수 있다.

  ```javascript
  const a = {};
  const b = a; // 객체 {}의 참조값이 복사되어 b에 할당되었다.

  // const로 선언하였으므로 a는 상수이지만, 변수값을 바꿀 수 없을 뿐 참조하고있는 객체는 변경이 가능하다.
  a.name = "백괴";
  // a와 b는 메모리 주소가 달라도 참조하는 객체는 같기에, 해당 객체가 수정될 경우 서로 영향을 끼친다.
  console.log(b); // {name: "백괴"}
  ```

- 객체의 복사

  - **깊은 복사** : 객체를 **중첩되어있는 객체까지** 모두 복사하는 것 <br>
    (원시값을 할당한 변수를 다른 변수에 할당할 경우에도 깊은 복사라고 부른다.)

    ```javascript
    const a = { customer: { name: "백괴", age: 20 } };
    // 객체를 통으로 문자열로 ➡ 그 문자열을 객체로 변경
    const b = JSON.parse(JSON.stringify(a));
    console.log(a === b); // false
    ```

  - **얕은 복사** : 객체를 복사할 때 **참조값**만 복사하거나, **일부 단계**까지만 복사하는 것

    ```javascript
    const a = { customer: { name: "백괴", age: 20 } };
    const b = { ...a };
    console.log(a === b); // false
    console.log(a.customer === b.customer); // true
    ```
